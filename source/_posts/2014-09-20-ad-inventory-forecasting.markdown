---
layout: post
title: "Challenges for a word-class Ad Inventory forecasting system"
date: 2014-09-20 22:01:24 +0800
comments: true
categories: 
---
Key words: Ad Inventory Forecasting, Ad serving, Online advertising.


广告流量预估是各家采取保量模式售卖广告位的公司都必须要做的，无论是传统的电视媒体还是各家互联网公司。
一句话介绍就是给定未来任意一段时间区间（通过在一年内），在任意给定定向条件（比如demographic限定，geographic限定，上下文内容限定，平台限定，时间段限定等）下，预估对于各种形态的广告（比如视频，图片，文本广告）分别有多少可以卖。


####实现一个优秀的广告流量预估系统的挑战在什么地方呢？至少包括如下几点
1. 在大数据量下保证快速的查询响应时间
	+ 大数据体现在2点，首先是广告数据条目多，另外是定向条件多。当有100类定向条件，每类可以有2种取值时，不同定向条件的组合数目虽然不会到2^100级别，但到billion级别还是可能的。如何做到近于实时的查询？<br></br>


2. 复杂多样的干扰因素对预估准确性的影响
	+ 业务本身的波动性对广告流量的影响
	+ 业务变动对广告流量的影响
	+ 突发时间对广告流量的影响<br></br>


3. 具体业务逻辑的复杂性增加了系统逻辑的复杂性
	+ 典型的业务流程是来了一个广告订单，在系统种查询是否有足够的流量可以售卖，但是查询得到的流量是满足定向条件的总流量，而单个订单的在投放过程种会有各种约束，比如不能给单个用户在一天中重复播放同一个广告商的广告。所以实际能够售卖给该订单的广告量一定少于查询到的总流量。这就需要在预估中考虑广告播放的频率限制；<br></br>

	
4. 和Ad server(广告投放服务器)逻辑的协调
	+ 通常同一个广告位会有多个广告qualify，Ad server决定了具体放哪个广告。在ad server逻辑不发生变化的情况下，可以利用历史数据（广告总量在各个定向条件上的分布）进行预估，但是一旦ad server逻辑发生变动，广告流量预告系统最好能实时作出调整，而不是收集了一个月数据之后才发应过来。<br></br>


5.  流量预估只是第一步，流量的管理或者说全局的统筹优化是最大化收益的必要。
